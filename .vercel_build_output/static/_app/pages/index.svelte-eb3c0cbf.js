import{S as t,i as e,s,e as n,k as l,c as r,a,n as i,d as h,b as c,f as u,F as o,H as d,G as f,I as p,J as g,j as m,m as v,o as k,K as w,v as x,r as A,w as S}from"../chunks/vendor-dc4178ae.js";function $(t,e){return t=Math.min(t,e),e=Math.max(t,e),Math.floor(Math.random()*(e+1-t)+t)}class _{constructor(t,e=null){this.value=t,this.next=e||null}toString(){return this.value}}class C{constructor(...t){if(this.head=null,this.tail=null,this._size=0,this._rawOutput=!1,t.length>0)for(let e=0;e<t.length;e++){let s=new _(t[e]);0==e?this.head=s:this.tail.next=s,this.tail=s,this._size++}}push(...t){for(let e of t){if(null==e)continue;let t=new _(e);null!=this.head?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t)}}unshift(...t){for(let e of t.reverse()){let t=new _(e);t.next=this.head,this.head=t}}pop(t){let e=this.indexOf(t);return this.popAt(e)}popAt(t){if(this["__#9427@#checkSize"](),0==t){let t=this.head;return null==this.head?this.head:(this.head=this.head.next,t.value)}let e=this.rawAt(t-1),s=this.rawAt(t);return e.next=s.next,s.value}clearList(){this.head=null,this.tail=null,this._size=0}shuffle(t=1){for(let e=0;e<t;e++){let t=this.length/2+(Math.random()<.5?-1:1)*$(0,this.length/10),e=new C,s=new C;for(new Function("list","left","right",`\n                let lastOfUnevenPile = list.head${".next".repeat(t)}\n    \n                left.head = list.head;\n                left.tail = lastOfUnevenPile;\n    \n                right.head = lastOfUnevenPile.next;\n                right.tail = list.tail;\n    \n                lastOfUnevenPile.next = null;\n                `)(this,e,s),this.clearList();e.length>0&&s.length>0;)$(0,1)>=e.length/s.length/2?this.push(s.popAt(0)):this.push(e.popAt(0));for(;e.length>0;)this.push(e.popAt(0));for(;s.length>0;)this.push(s.popAt(0))}return console.log(this),this["__#9427@#checkSize"](),this}toArray(){let t=this.head,e=[];for(;null!=t;)e.push(t.value),t=t.next;return e}moveItemToArray(t,e){if(!Array.isArray(e))throw new TypeError("Target is not an array");let s=this.rawAt(t);return e.push(s.value),this.popAt(t),e}indexOf(t){let e=this.head,s=0;for(;null!=e;){if(e.value===t)return s;e=e.next,s++}return-1}rawAt(t,e){return this._rawOutput=1,this.at(t,e)}at(t,e){let s=this._rawOutput,n=this.head;if(t=t<0?this.length+t:t,null==e)return new Function("curr",`return curr${".next".repeat(t)}${s?"":".value"}`)(n);e=e<0?this.length+e:e;let l=Math.min(t,e),r=Math.max(t,e),a=[],i=l;if(r>this.length-1||l<0)throw new RangeError("Index out of range");for(n=new Function("curr",`return curr${".next".repeat(l)}`)(n);i!=r&&null!=n&&null!=n;)a.push(n),i++,n=n.next;return a=s?a:a.map((t=>t.value)),this._rawOutput=!1,1==a.length?a[0]:a}[Symbol.iterator](){let t=this.head;return{next:()=>{let e=t;return null!=t&&(t=t.next),{done:null==e,value:null==e?null:e.value}}}}"__#9427@#checkSize"(){let t=this.head;if(null!=t)for(this._size=0;null!=t;)this._size++,null!=t&&(t=t.next);else this._size=0}get length(){return 0==this._size&&this["__#9427@#checkSize"](),this._size}toString(){let t=this.head,e="";for(;null!=t;)e+=t+" -> ",null!=t&&(t=t.next);return e+="null",e}}function z(t){let e,s,p,g,m,v,k,w,x,A,S,$;return{c(){e=n("div"),s=n("ul"),p=n("img"),m=l(),v=n("img"),w=l(),x=n("img"),this.h()},l(t){e=r(t,"DIV",{class:!0});var n=a(e);s=r(n,"UL",{class:!0});var l=a(s);p=r(l,"IMG",{src:!0,alt:!0,class:!0}),m=i(l),v=r(l,"IMG",{src:!0,alt:!0,class:!0}),w=i(l),x=r(l,"IMG",{src:!0,alt:!0,class:!0}),l.forEach(h),n.forEach(h),this.h()},h(){p.src!==(g="src/assets/minicards/back.svg")&&c(p,"src","src/assets/minicards/back.svg"),c(p,"alt","backs"),c(p,"class","card svelte-2z6wvm"),v.src!==(k="src/assets/minicards/back.svg")&&c(v,"src","src/assets/minicards/back.svg"),c(v,"alt","back"),c(v,"class","card svelte-2z6wvm"),x.src!==(A="src/assets/minicards/back.svg")&&c(x,"src","src/assets/minicards/back.svg"),c(x,"alt","back"),c(x,"class","card svelte-2z6wvm"),c(s,"class","card-pile svelte-2z6wvm"),c(e,"class","card-pile-container")},m(n,l){u(n,e,l),o(e,s),o(s,p),o(s,m),o(s,v),o(s,w),o(s,x),S||($=d(s,"click",t[0]),S=!0)},p:f,i:f,o:f,d(t){t&&h(e),S=!1,$()}}}function y(t,e,s){let{deckAmount:n=1}=e;const l=new Function("deckOfCards",`return [${"...deckOfCards,".repeat(n)}]`)(["AS","2S","3S","4S","5S","6S","7S","8S","9S","10S","JS","QS","KS","AH","2H","3H","4H","5H","6H","7H","8H","9H","10H","JH","QH","KH","AD","2D","3D","4D","5D","6D","7D","8D","9D","10D","JD","QD","KD","AC","2C","3C","4C","5C","6C","7C","8C","9C","10C","JC","QC","KC"]),r=new C(...l);return r.shuffle(6),t.$$set=t=>{"deckAmount"in t&&s(1,n=t.deckAmount)},[function(){if(1==r.length)return alert("deck is empty");let t=document.querySelector(".card-pile .card:first-child"),e=document.querySelector(".card-pile"),s=t.cloneNode(!0),n=r.popAt(0);console.log("card grabbed: "+n,r.length),t.classList.add("slideOff"),e.style.pointerEvents="none",setTimeout((()=>{e.removeChild(t),r.length>3&&e.appendChild(s),e.style.pointerEvents="initial"}),300)},n,r]}class D extends t{constructor(t){super(),e(this,t,y,z,s,{deckAmount:1,deck:2})}get deck(){return this.$$.ctx[2]}}function H(t){let e,s,l,i;function o(e){t[1](e)}let d={deckAmount:"1"};return void 0!==t[0]&&(d.deck=t[0]),s=new D({props:d}),p.push((()=>g(s,"deck",o))),{c(){e=n("main"),m(s.$$.fragment),this.h()},l(t){e=r(t,"MAIN",{class:!0});var n=a(e);v(s.$$.fragment,n),n.forEach(h),this.h()},h(){c(e,"class","svelte-mpj3l0")},m(t,n){u(t,e,n),k(s,e,null),i=!0},p(t,[e]){const n={};!l&&1&e&&(l=!0,n.deck=t[0],w((()=>l=!1))),s.$set(n)},i(t){i||(x(s.$$.fragment,t),i=!0)},o(t){A(s.$$.fragment,t),i=!1},d(t){t&&h(e),S(s)}}}function b(t,e,s){let n=new C;return t.$$.update=()=>{1&t.$$.dirty&&n.toArray()},[n,function(t){n=t,s(0,n)}]}export default class extends t{constructor(t){super(),e(this,t,b,H,s,{})}}
